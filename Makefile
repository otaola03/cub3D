# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: jperez <jperez@student.42urduliz.>         +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2022/11/12 14:10:40 by jperez            #+#    #+#              #
#    Updated: 2023/03/17 17:36:02 by jperez           ###   ########.fr        #
#                                                                              #
# **************************************************************************** #


define HEADER
                                                                                                             
                                                                                                              
                                                                                                              
                                                                                                              
                                                                                                              
                                                            .,                                                
                                          //////%#/////////////////,                                          
                         ,////(@&#///////////////////&##(///(%%%&&#//////                                     
              &##//////////////////#@%#/////(#&@&%(/////((&%(//////////////////                               
             ,,##@@##///////(#&&#///////(&#(//////////////////(&&#/////////(%&&&%(((.                         
             .,,,,,#%&&@%#%//////////////////@@%(((/((//(((#&%&@@@@@@@@(/////////////////(.                   
             .,,,,,,,&,*%&@@%#%///////////%%#@@@@@@@@////////////////(/((@@&&/////////////(#&#(#              
             .,,,,,,,%,,,,,*%@&@@##%//////////////////(@%&((/////////////(/(((@&@@@@@%#(////((#&%%            
             .,,,,,,,%,,,,,,,,#@#%@@@&%%/////////////////((/@#&%#%%&@@@@&#(/((((&@%%%%/ .. .    .%            
             .,,,,,,,#,,,,,,,,%@,,,,#%@@@&%#%#&@@@@@&%(//(/((&@#%@&&&%%%%(...   %&#..           .%            
             &&@,,,,,(,,,,,,,,%&,,,,,,,,#%@@&&&&&&&%%%%/....*%@&............... %&(.             #            
             ,,#%@@#%@,,,,,,,,%&,,,,,,,,,%&@&... ............&&%........ ...... %&/              #            
             ,,,,,,%%&@,,,,,,,%&,,,,,,,,,%&@&..........  ....&&%..   ...      ..&&*              #            
             ,,,,,,,%@%&@@%,,,%&,,,,,,,,,%&&&...............,&&%  .          ...&&*  ..          (            
             ,,,,,,,,&,,,,#%@@@@#,,,,,,,,%&&&.......      ..*@&%..            .#@&%%    ./%%%%%&%%            
             ,,,,,,,,%,,,,,,,%(@@@#,,,,,*%&&&....  ..    ...%@&%  .       . .%%@@@@@%/#%%%%#.    #            
             ,,,,,,,,%,,,,,,,,%@@%%%%%,,/%&&%........ ....%%@@@@&%%&@@@@#*/(%%%&@@@%             #            
             #*,,,,,,%,,,,,,,,,&@,,,,.%%&%&&&%/%%&@@@#@@&(//&@@@@@%%           .%&%              #            
             ,,,%&,,/&,,,,,,,,,&&,,,,,,,,%%%@%(&%%%%%%,..    %@@%/.             %&%              (            
             ,,,,,,%@@(,,,,,,,,&%,,,,,,,,,%&&&%.              @&%               %&%              (            
             ,,,,,,,%@@%#,,,,,,&#,,,,,,,,,%&&&#.             .@&%               %&%              /            
             ,,,,,,,,&,,,%@#,,%&(,,,,,,,,,%&&&#              .@&%               %&%             %.            
             ,,,,,,,,&,,,,,,%&@@@,,,,,,,,,%&&&(              *@&#              %@@&%. .#%%@@@@%(/             
             *,,,,,,,&,,,,,,,,%@@@%,,,,,,,%&&&*              /@&%           *%@@@@@@//%%%%%/   .%             
                ,,,,,&,,,,,,,,,@%%%%@%,,,,%&&&.             (@@@@%%%%&@@#*/%%%&@@@%/            %             
                  #,,&,,,,,,,,,%,,,,(%%@%#%&&%. .   *%%%&@@@@@@@@%%#,          %&&             .%             
                     &,,,,,,,,,#,,,,,,,(%#@@@@@#(#%%%%%/ ,%%%@&%               %&%              %             
                       .*,,,,,,(,,,,,,,,/%&&%.             .%@&                %&%             .&             
                          %,,,,/,,,,,,,,(%&&&     .         %@%                %&%             .%             
                             %%*,,,,,,,,#%&&%               %@%              ..%&% .       . .%%%             
                               *#,,,,,,,%%&&(              .%@%.         .  . *%@&#%%&&(                      
                                  %,,,,,&%&&*.             .%@&. ......(%&&&&,                                
                                     %,,&%&&.           .. %&@&&&&/                                           
                                       (%&&&/   (%%&&&%.                                                      
                                          ((                                                                  
                                                                                                              
                                                                                                              
                                                                                                              
                                                                                                             
endef
export HEADER

S = srcs/
O = objs/

NAME = so_long

#F = -fsanitize=address -g3

CC = gcc -O3$(F) 
CFLAGS = -Wall -Werror -Wextra

RM = -rm -rf


SRCS = main.c	\

OBJ := $(SRC:%.c=%.o)

all: $(NAME)

$O:
	@echo "Creating Objects Folder...."
	mkdir $@
	@echo "Folder created."

$(OBJS): | $O

$(OBJS): $O%.o: $S%.c
#	$(CC) $(CFLAGS) -Imlx_linux -O3 -c $< -o $@
	$(CC) $(CFLAGS) -Imlx -O3 -c $< -o $@

$(NAME): $(OBJS)
	$(MAKE) -C mlx 2> logs
	rm -f logs
	$(CC) $(CFLAGS) -I mlx/libmlx.a -Imlx -Lmlx -lmlx -framework OpenGL -framework AppKit -o $(NAME) $(OBJS)
	@echo "\033[0;33m"
	@echo "$$HEADER"

clean:
	$(RM) $(OBJS) $O
	$(RM) mlx/*.o

fclean: clean
	$(RM) $(NAME)
	$(RM) mlx/libmlx.a
#	$(RM) mlx/libmlx.dylib

re: fclean all

.PHONY: fclean clean all
